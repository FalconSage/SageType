/* v0.035 -- 11 Nov 2020 | git@tmpmachine/_web */
!function(){let e=[],t="1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=["[","]","}","{","-","+",",",".","<",">","Escape","Delete","Enter","Backspace","Right","Left","Up","Down","Space"],o=[219,221,221,219,189,187,188,190,188,190,27,46,13,8,39,37,38,40,32];for(let e of t)n.push(e),o.push(e.charCodeAt(0));function l(t,n,o){for(let l of e)if(l&&l.keyCode==n.keyCode&&l.Alt==o.Alt&&l.Control==o.Control&&l.Shift==o.Shift){l.isPreventDefault&&event.preventDefault(),l.eventType==t&&l.callback&&(o.isBlocked()||l.callback());break}}function i(e,t){"blur"==e.type?(t.Shift=!1,t.Control=!1,t.Alt=!1):"keyup"==e.type?function(e,t){[16,17,18].includes(e.keyCode)?t[e.key]=!1:t[e.keyCode]=!1,l("keyup",e,t)}(e,t):"keydown"==e.type&&function(e,t){t.keylogger&&console.log(e.keyCode,e),[16,17,18].includes(e.keyCode)?t[e.key]=!0:t[e.keyCode]=!0,l("keydown",e,t)}(e,t)}void 0===window.keyboard?window.KeyTrapper=function(){let t={keylogger:!1,Alt:!1,Shift:!1,Control:!1,isBlocked:function(){return!1},listen:function(t,l="keydown",i=!1){!function(t,l,i){for(let d in t){let c={eventType:l,Alt:d.includes("Alt+"),Control:d.includes("Ctrl+"),Shift:d.includes("Shift+"),callback:null};c.key=d,c.keyCode=(r=d.replace(/Alt\+|Ctrl\+|Shift\+/g,""),o[n.indexOf(r)]),c.callback=t[d],"<>{}".includes(d)&&(c.Shift=!0),c.isPreventDefault=i,e.push(c)}var r}(t,l,i)},isPressed:function(e){return keyboard[e]}};return window.addEventListener("keydown",e=>i(e,t)),window.addEventListener("keyup",e=>i(e,t)),window.addEventListener("blur",e=>i(e,t)),t}:console.error("keyboard.js:","Failed to initialize. Duplicate variable exists.")}();